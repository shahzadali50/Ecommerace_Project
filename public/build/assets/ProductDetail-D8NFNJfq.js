import{e as o,I as K,d as H,n as Q,l as U,c as I,q as _,a as u,o as d,b as e,t as a,u as t,s as A,w as i,F as N,x as G,aJ as ee,aK as te,aL as se,aD as oe,av as L,v as q,i as j,g as W,f as E,aE as re,W as P,m as ae,P as le,aw as D,ax as k,aH as ne,aG as ie,aM as z,a1 as de,an as ce,aN as ue}from"./app-CdgPAu8Y.js";import{H as J,_ as pe}from"./UserLayout.vue_vue_type_script_setup_true_lang-Dwjd008b.js";import{_ as X}from"./LoginModal.vue_vue_type_script_setup_true_lang-BKj9ndt2.js";import{S as Y}from"./ShoppingCartOutlined-OWqR1Y1q.js";import{_ as me}from"./useFlashMessages-D767BWGM.js";import{C as he,S as fe}from"./SafetyCertificateOutlined-4TrX43Dx.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DJtKA5Sq.js";import"./Button.vue_vue_type_script_setup_true_lang-CCKSdXGT.js";import"./Label.vue_vue_type_script_setup_true_lang-B-6RWkT2.js";import"./TextLink.vue_vue_type_script_setup_true_lang-DBDeWU_m.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BlMc6TLy.js";import"./createLucideIcon-fEDCnf8p.js";import"./loader-circle-Dcgejsmq.js";var ge={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};function F(h){for(var c=1;c<arguments.length;c++){var p=arguments[c]!=null?Object(arguments[c]):{},r=Object.keys(p);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(p).filter(function(y){return Object.getOwnPropertyDescriptor(p,y).enumerable}))),r.forEach(function(y){ve(h,y,p[y])})}return h}function ve(h,c,p){return c in h?Object.defineProperty(h,c,{value:p,enumerable:!0,configurable:!0,writable:!0}):h[c]=p,h}var V=function(c,p){var r=F({},c,p.attrs);return o(K,F({},r,{icon:ge}),null)};V.displayName="MinusOutlined";V.inheritAttrs=!1;const be={key:0},_e={class:"text-center mb-8 sm:mb-12"},ye={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},xe={class:"relative"},we={class:"relative h-28 sm:h-32 md:h-40 lg:h-48 overflow-hidden"},ke=["src","alt"],Ce={class:"absolute top-1 right-1 bg-white rounded-full px-1.5 py-0.5 text-[10px] sm:text-xs font-medium text-gray-800"},$e={class:"text-[15px] sm:text-xl font-semibold text-gray-900 mb-1"},Se={class:"flex justify-between items-center"},Oe={class:"flex flex-wrap"},Te={class:"text-xs sm:text-sm md:text-base font-bold text-primary pr-2"},je={key:0,class:"text-xs sm:text-sm md:text-base text-secondary line-through"},Ae={key:1,class:"text-center py-8"},Re={class:"text-gray-500"},Me=H({__name:"RelatedProducts",props:{relatedProducts:{}},setup(h){const c=Q(),{appContext:p}=U(),r=p.config.globalProperties.$t,y=I(()=>{var l;return(l=c.props.auth)==null?void 0:l.user}),C=_(!1),$=I(()=>c.props.wishlist||[]),O=_(new Set),x=_(new Set),R=_(),S=l=>$.value.includes(l),b=l=>{y.value?(O.value.add(l),P.post(route("wishlist.add"),{product_id:l},{preserveScroll:!0,onSuccess:()=>{O.value.delete(l)},onError:()=>{O.value.delete(l)}})):C.value=!0},f=l=>{P.visit(route("product.detail",{slug:l}))},w=l=>{x.value.add(l.id),P.post(route("cart.add"),{id:l.id,qty:1},{preserveScroll:!0,onSuccess:()=>{x.value.delete(l.id),console.log("Added related product to cart")},onError:g=>{x.value.delete(l.id),console.error("Failed to add related product to cart",g)}})};return(l,g)=>(d(),u(N,null,[l.relatedProducts&&l.relatedProducts.length>0?(d(),u("div",be,[e("div",_e,[e("h2",ye,a(t(r)("Related Products")),1)]),e("div",xe,[o(t(ee),{ref_key:"carouselRef",ref:R,slidesToShow:4,slidesToScroll:1,dots:!1,infinite:l.relatedProducts.length>4,autoplay:!1,responsive:[{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:992,settings:{slidesToShow:2,slidesToScroll:1}},{breakpoint:576,settings:{slidesToShow:2,slidesToScroll:2}}],class:"related-products-carousel"},{default:i(()=>[(d(!0),u(N,null,G(l.relatedProducts,n=>(d(),u("div",{key:n.id},[o(t(oe),{hoverable:"",class:"h-full product-card cursor-pointer",onClick:v=>f(n.slug)},{cover:i(()=>[e("div",we,[n.thumbnail_image?(d(),u("img",{key:0,src:n.thumbnail_image,alt:n.name,class:"w-full h-full object-cover"},null,8,ke)):(d(),E(t(re).Image,{key:1,class:"w-full h-full"})),e("div",Ce,a(t(r)(n.category_name)),1),o(t(L),{onClick:q(v=>b(n.id),["stop"]),shape:"circle",size:"small",loading:O.value.has(n.id),class:j(["flex items-center justify-center !w-7 !h-7 absolute top-7 right-1",S(n.id)?"!bg-red-500 !text-white !border-red-500 hover:!bg-red-600":"!bg-white !text-black !border-gray-300 hover:!bg-red-500 hover:!text-white hover:!border-red-500"]),"aria-label":"Toggle favorite"},{icon:i(()=>[o(t(J))]),_:2},1032,["onClick","loading","class"])])]),default:i(()=>[e("div",null,[e("h3",$e,a(t(r)(n.name)),1),e("div",Se,[e("div",Oe,[e("span",Te," $"+a(n.final_price),1),n.sale_price?(d(),u("span",je," $"+a(n.sale_price),1)):A("",!0)])]),o(t(L),{type:"primary",class:j(["flex items-center justify-center mt-2",(n.stock||0)===0?"!bg-gray-400 !text-white !border-gray-400 cursor-not-allowed hover:!bg-gray-400":"btn-primary"]),loading:x.value.has(n.id),disabled:(n.stock||0)===0,onClick:q(v=>w(n),["stop"]),"aria-label":"Add to cart"},{icon:i(()=>[o(t(Y))]),default:i(()=>[W(" "+a((n.stock||0)===0?t(r)("Out of Stock"):t(r)("Add to Cart")),1)]),_:2},1032,["class","loading","disabled","onClick"])])]),_:2},1032,["onClick"])]))),128))]),_:1},8,["infinite"]),l.relatedProducts.length>4?(d(),u("button",{key:0,class:"absolute left-0 top-1/2 transform -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors duration-200 -ml-4",onClick:g[0]||(g[0]=n=>{var v;return(v=R.value)==null?void 0:v.prev()})},[o(t(te),{class:"text-gray-600"})])):A("",!0),l.relatedProducts.length>4?(d(),u("button",{key:1,class:"absolute right-0 top-1/2 transform -translate-y-1/2 z-10 bg-white rounded-full p-2 shadow-lg hover:bg-gray-50 transition-colors duration-200 -mr-4",onClick:g[1]||(g[1]=n=>{var v;return(v=R.value)==null?void 0:v.next()})},[o(t(se),{class:"text-gray-600"})])):A("",!0)])])):(d(),u("div",Ae,[e("p",Re,a(t(r)("No related products found.")),1)])),o(X,{open:C.value,"onUpdate:open":g[2]||(g[2]=n=>C.value=n),canResetPassword:!1},null,8,["open"])],64))}}),We=me(Me,[["__scopeId","data-v-07515b17"]]),Ie={class:"pb-7"},Pe={class:"container mx-auto px-4"},Be={class:"flex flex-wrap items-center text-sm text-gray-500"},De={class:"text-gray-700"},Ee={class:"container mx-auto px-4"},Ne={class:"relative"},Ve={class:"aspect-square rounded-lg overflow-hidden bg-gray-100"},Le=["src","alt"],qe={class:"flex mt-4 space-x-2 overflow-x-auto"},ze=["onClick"],Fe=["src","alt"],He={class:"h-full"},Qe={class:"text-2xl md:text-3xl font-bold text-gray-900 mb-2"},Ue={class:"mb-6"},Ge={class:"flex items-center"},Je={class:"text-3xl font-bold text-gray-900"},Xe={key:0,class:"ml-3 text-lg text-gray-500 line-through"},Ye={key:1,class:"ml-3 bg-red-100 text-red-600 px-2 py-1 rounded text-sm font-medium"},Ze={class:"mb-6"},Ke={class:"flex items-center"},et={class:"text-gray-700"},tt={key:0,class:"text-gray-500"},st={class:"flex items-center p-3 bg-gray-100 rounded-lg"},ot={class:"text-sm"},rt={class:"flex items-center p-3 bg-gray-100 rounded-lg"},at={class:"text-sm"},lt={class:"flex items-center p-3 bg-gray-100 rounded-lg"},nt={class:"text-sm"},it={class:"mb-6"},dt={class:"block text-sm font-medium text-gray-700 mb-2"},ct={class:"flex items-center"},ut=["max"],pt=["disabled"],mt={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},ht=["disabled"],ft={key:0,class:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin mr-2"},gt={class:"mt-12"},vt={class:"border-b border-gray-200"},bt={class:"flex -mb-px"},_t={class:"py-4 px-6 border-b-2 border-primary font-medium text-primary"},yt={class:"py-6 prose max-w-none"},xt={class:"my-14"},wt={class:"container mx-auto px-4"},Dt=H({__name:"ProductDetail",props:{product:{},relatedProducts:{}},setup(h){const c=Q(),{appContext:p}=U(),r=p.config.globalProperties.$t,y=I(()=>{var s;return(s=c.props.auth)==null?void 0:s.user}),C=_(!1),$=_(!1),O=I(()=>c.props.wishlist||[]),x=s=>O.value.includes(s),R=s=>{y.value?($.value=!0,P.post(route("wishlist.add"),{product_id:s},{preserveScroll:!0,onSuccess:()=>{$.value=!1},onError:()=>{$.value=!1}})):C.value=!0},S=h,b=_(1),f=_(0),w=I(()=>{const s=[...S.product.gallery_images||[]];return S.product.thumbnail_image&&s.unshift(`/storage/${S.product.thumbnail_image}`),s}),l=()=>{w.value.length>0&&(f.value=(f.value+1)%w.value.length)},g=()=>{w.value.length>0&&(f.value=f.value===0?w.value.length-1:f.value-1)},n=()=>{b.value<S.product.stock&&b.value++},v=()=>{b.value>1&&b.value--},M=_(!1),Z=()=>{M.value=!0,P.post(route("cart.add"),{id:S.product.id,qty:b.value},{preserveScroll:!0,onSuccess:()=>{M.value=!1,console.log("Added to cart")},onError:s=>{M.value=!1,console.error("Failed to add to cart",s)}})};return(s,m)=>(d(),E(pe,null,{default:i(()=>[o(t(ae),{title:s.product.name},null,8,["title"]),e("section",Ie,[e("div",Pe,[e("div",Be,[o(t(le),{href:s.route("home"),class:"hover:text-primary"},{default:i(()=>[W(a(t(r)("Home")),1)]),_:1},8,["href"]),m[3]||(m[3]=e("span",{class:"mx-2"},"/",-1)),e("span",null,a(t(r)("Products")),1),m[4]||(m[4]=e("span",{class:"mx-2"},"/",-1)),e("span",null,a(t(r)(s.product.category_name)),1),m[5]||(m[5]=e("span",{class:"mx-2"},"/",-1)),e("span",De,a(t(r)(s.product.name)),1)])])]),e("section",null,[e("div",Ee,[o(t(D),{gutter:[32,32]},{default:i(()=>[o(t(k),{xs:24,lg:12},{default:i(()=>[e("div",Ne,[e("div",Ve,[e("img",{src:w.value[f.value],alt:s.product.name,class:"w-full h-full object-cover"},null,8,Le)]),e("button",{onClick:g,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-200"},[o(t(ne))]),e("button",{onClick:l,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-200"},[o(t(ie))]),e("div",qe,[(d(!0),u(N,null,G(w.value,(T,B)=>(d(),u("div",{key:B,onClick:kt=>f.value=B,class:j(["w-16 h-16 rounded-md overflow-hidden cursor-pointer border-2 transition-all duration-200 hover:opacity-80",f.value===B?"border-primary":"border-transparent"])},[e("img",{src:T,alt:`${s.product.name} - ${B+1}`,class:"w-full h-full object-cover"},null,8,Fe)],10,ze))),128))])])]),_:1}),o(t(k),{xs:24,lg:12},{default:i(()=>[e("div",He,[e("h1",Qe,a(t(r)(s.product.name)),1),e("div",Ue,[e("div",Ge,[e("span",Je,"$"+a(s.product.final_price),1),s.product.sale_price?(d(),u("span",Xe,"$"+a(s.product.sale_price),1)):A("",!0),s.product.discount?(d(),u("span",Ye," -"+a(s.product.discount)+"% ",1)):A("",!0)])]),e("div",Ze,[e("div",Ke,[o(t(z),{class:j(s.product.stock>0?"text-green-500 mr-2":"text-red-500 mr-2")},null,8,["class"]),e("span",et,[W(a(s.product.stock>0?t(r)("In Stock"):t(r)("Out of Stock"))+" ",1),s.product.stock>0?(d(),u("span",tt,"("+a(s.product.stock)+" "+a(t(r)("Available"))+")",1)):A("",!0)])])]),o(t(D),{gutter:[16,16],class:"mb-6"},{default:i(()=>[o(t(k),{xs:24,sm:8},{default:i(()=>[e("div",st,[o(t(he),{class:"text-primary text-xl mr-2"}),e("span",ot,a(t(r)("Free Shipping")),1)])]),_:1}),o(t(k),{xs:24,sm:8},{default:i(()=>[e("div",rt,[o(t(fe),{class:"text-primary text-xl mr-2"}),e("span",at,a(t(r)("Secure Payment")),1)])]),_:1}),o(t(k),{xs:24,sm:8},{default:i(()=>[e("div",lt,[o(t(z),{class:"text-primary text-xl mr-2"}),e("span",nt,a(t(r)("Money Back")),1)])]),_:1})]),_:1}),e("div",it,[e("label",dt,a(t(r)("Quantity")),1),e("div",ct,[e("button",{onClick:v,class:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l-md hover:bg-gray-100"},[o(t(V))]),de(e("input",{type:"number","onUpdate:modelValue":m[0]||(m[0]=T=>b.value=T),min:"1",max:s.product.stock,class:"w-16 h-10 text-center border-t border-b border-gray-300 focus:outline-none"},null,8,ut),[[ce,b.value]]),e("button",{onClick:n,class:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r-md hover:bg-gray-100"},[o(t(ue))])])]),o(t(D),{gutter:[16,16],class:"mb-6"},{default:i(()=>[o(t(k),{xs:24,sm:12},{default:i(()=>[e("button",{onClick:Z,disabled:s.product.stock===0||M.value,class:"w-full bg-primary text-white py-3 px-6 rounded-md font-medium hover:bg-primary-dark transition-all duration-200 flex items-center justify-center transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-primary"},[M.value?(d(),u("div",mt)):(d(),E(t(Y),{key:1,class:"mr-2"})),W(" "+a(s.product.stock===0?t(r)("Out of Stock"):t(r)("Add to Cart")),1)],8,pt)]),_:1}),o(t(k),{xs:24,sm:12},{default:i(()=>[e("button",{onClick:m[1]||(m[1]=T=>R(s.product.id)),disabled:$.value,class:j(["w-full border py-3 px-6 rounded-md font-medium transition-all duration-200 flex items-center justify-center transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",x(s.product.id)?"border-red-500 bg-red-500 text-white hover:bg-red-600":"border-gray-300 hover:bg-gray-50"])},[$.value?(d(),u("div",ft)):(d(),E(t(J),{key:1,class:j([x(s.product.id)?"text-white":"text-gray-600","mr-2"])},null,8,["class"])),W(" "+a(x(s.product.id)?t(r)("Remove from Wishlist"):t(r)("Add to Wishlist")),1)],10,ht)]),_:1})]),_:1})])]),_:1})]),_:1}),e("div",gt,[e("div",vt,[e("nav",bt,[e("button",_t,a(t(r)("Description")),1)])]),e("div",yt,[e("p",null,a(t(r)(s.product.description)),1)])])])]),e("section",xt,[e("div",wt,[o(t(D),null,{default:i(()=>[o(t(k),{xs:24,lg:24},{default:i(()=>[o(We,{"related-products":s.relatedProducts},null,8,["related-products"])]),_:1})]),_:1})])]),o(X,{open:C.value,"onUpdate:open":m[2]||(m[2]=T=>C.value=T),canResetPassword:!1},null,8,["open"])]),_:1}))}});export{Dt as default};
