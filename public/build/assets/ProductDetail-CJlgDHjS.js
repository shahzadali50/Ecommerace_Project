import{e as o,I as R,d as z,n as L,z as Q,c as $,p as w,f as j,o as u,w as i,b as e,u as t,m as G,P as U,g as C,t as a,ax as A,ay as f,aH as J,aG as X,a as h,F as Y,v as Z,i as O,q as I,aJ as W,a1 as K,an as ee,aK as te,W as B}from"./app-DhDN9clE.js";import{H as se,_ as re}from"./UserLayout.vue_vue_type_script_setup_true_lang-B3KsgIcq.js";import{_ as oe}from"./LoginModal.vue_vue_type_script_setup_true_lang-CAIW1phN.js";import{C as ae,S as le}from"./SafetyCertificateOutlined-BV-oUdbt.js";import{S as ne}from"./ShoppingCartOutlined-Bn7IPq_K.js";import"./useFlashMessages-DN6iFL0s.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-CSXaFYAK.js";import"./Button.vue_vue_type_script_setup_true_lang-CVpZQjM6.js";import"./Label.vue_vue_type_script_setup_true_lang-ClF4_ZRh.js";import"./TextLink.vue_vue_type_script_setup_true_lang-C1JSFatq.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BqRNJgYb.js";import"./createLucideIcon-DbGtICm-.js";import"./loader-circle-DSpQXioM.js";var ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h720c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"minus",theme:"outlined"};function T(c){for(var l=1;l<arguments.length;l++){var d=arguments[l]!=null?Object(arguments[l]):{},r=Object.keys(d);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(d).filter(function(v){return Object.getOwnPropertyDescriptor(d,v).enumerable}))),r.forEach(function(v){de(c,v,d[v])})}return c}function de(c,l,d){return l in c?Object.defineProperty(c,l,{value:d,enumerable:!0,configurable:!0,writable:!0}):c[l]=d,c}var M=function(l,d){var r=T({},l,d.attrs);return o(R,T({},r,{icon:ie}),null)};M.displayName="MinusOutlined";M.inheritAttrs=!1;const ce={class:"pb-7"},ue={class:"container mx-auto px-4"},me={class:"flex flex-wrap items-center text-sm text-gray-500"},pe={class:"text-gray-700"},fe={class:"container mx-auto px-4"},he={class:"relative"},ve={class:"aspect-square rounded-lg overflow-hidden bg-gray-100"},be=["src","alt"],ge={class:"flex mt-4 space-x-2 overflow-x-auto"},_e=["onClick"],ye=["src","alt"],xe={class:"h-full"},we={class:"text-2xl md:text-3xl font-bold text-gray-900 mb-2"},ke={class:"mb-6"},Ce={class:"flex items-center"},Oe={class:"text-3xl font-bold text-gray-900"},Se={key:0,class:"ml-3 text-lg text-gray-500 line-through"},Pe={key:1,class:"ml-3 bg-red-100 text-red-600 px-2 py-1 rounded text-sm font-medium"},$e={class:"mb-6"},je={class:"flex items-center"},Ae={class:"text-gray-700"},Ie={key:0,class:"text-gray-500"},Me={class:"flex items-center p-3 bg-gray-100 rounded-lg"},We={class:"text-sm"},Be={class:"flex items-center p-3 bg-gray-100 rounded-lg"},Te={class:"text-sm"},Ve={class:"flex items-center p-3 bg-gray-100 rounded-lg"},De={class:"text-sm"},He={class:"mb-6"},Ne={class:"block text-sm font-medium text-gray-700 mb-2"},qe={class:"flex items-center"},Ee=["max"],Fe=["disabled"],Re={key:0,class:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"},ze=["disabled"],Le={key:0,class:"w-4 h-4 border-2 border-red-500 border-t-transparent rounded-full animate-spin mr-2"},Qe={class:"mt-12"},Ge={class:"border-b border-gray-200"},Ue={class:"flex -mb-px"},Je={class:"py-4 px-6 border-b-2 border-primary font-medium text-primary"},Xe={class:"py-6 prose max-w-none"},ut=z({__name:"ProductDetail",props:{product:{}},setup(c){const l=L(),{appContext:d}=Q(),r=d.config.globalProperties.$t,v=$(()=>{var s;return(s=l.props.auth)==null?void 0:s.user}),S=w(!1),_=w(!1),V=$(()=>l.props.wishlist||[]),P=s=>V.value.includes(s),D=s=>{v.value?(_.value=!0,B.post(route("wishlist.add"),{product_id:s},{preserveScroll:!0,onSuccess:()=>{_.value=!1},onError:()=>{_.value=!1}})):S.value=!0},y=c,p=w(1),m=w(0),b=$(()=>{const s=[...y.product.gallery_images||[]];return y.product.thumbnail_image&&s.unshift(`/storage/${y.product.thumbnail_image}`),s}),H=()=>{b.value.length>0&&(m.value=(m.value+1)%b.value.length)},N=()=>{b.value.length>0&&(m.value=m.value===0?b.value.length-1:m.value-1)},q=()=>{p.value<y.product.stock&&p.value++},E=()=>{p.value>1&&p.value--},x=w(!1),F=()=>{x.value=!0,B.post(route("cart.add"),{id:y.product.id,qty:p.value},{preserveScroll:!0,onSuccess:()=>{x.value=!1,console.log("Added to cart")},onError:s=>{x.value=!1,console.error("Failed to add to cart",s)}})};return(s,n)=>(u(),j(re,null,{default:i(()=>[o(t(G),{title:s.product.name},null,8,["title"]),e("section",ce,[e("div",ue,[e("div",me,[o(t(U),{href:s.route("home"),class:"hover:text-primary"},{default:i(()=>[C(a(t(r)("Home")),1)]),_:1},8,["href"]),n[3]||(n[3]=e("span",{class:"mx-2"},"/",-1)),e("span",null,a(t(r)("Products")),1),n[4]||(n[4]=e("span",{class:"mx-2"},"/",-1)),e("span",null,a(t(r)(s.product.category_name)),1),n[5]||(n[5]=e("span",{class:"mx-2"},"/",-1)),e("span",pe,a(t(r)(s.product.name)),1)])])]),e("section",null,[e("div",fe,[o(t(A),{gutter:[32,32]},{default:i(()=>[o(t(f),{xs:24,lg:12},{default:i(()=>[e("div",he,[e("div",ve,[e("img",{src:b.value[m.value],alt:s.product.name,class:"w-full h-full object-cover"},null,8,be)]),e("button",{onClick:N,class:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-200"},[o(t(J))]),e("button",{onClick:H,class:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-white rounded-full p-2 shadow-md hover:bg-gray-100 transition-colors duration-200"},[o(t(X))]),e("div",ge,[(u(!0),h(Y,null,Z(b.value,(g,k)=>(u(),h("div",{key:k,onClick:Ye=>m.value=k,class:O(["w-16 h-16 rounded-md overflow-hidden cursor-pointer border-2 transition-all duration-200 hover:opacity-80",m.value===k?"border-primary":"border-transparent"])},[e("img",{src:g,alt:`${s.product.name} - ${k+1}`,class:"w-full h-full object-cover"},null,8,ye)],10,_e))),128))])])]),_:1}),o(t(f),{xs:24,lg:12},{default:i(()=>[e("div",xe,[e("h1",we,a(t(r)(s.product.name)),1),e("div",ke,[e("div",Ce,[e("span",Oe,"$"+a(s.product.final_price),1),s.product.sale_price?(u(),h("span",Se,"$"+a(s.product.sale_price),1)):I("",!0),s.product.discount?(u(),h("span",Pe," -"+a(s.product.discount)+"% ",1)):I("",!0)])]),e("div",$e,[e("div",je,[o(t(W),{class:O(s.product.stock>0?"text-green-500 mr-2":"text-red-500 mr-2")},null,8,["class"]),e("span",Ae,[C(a(s.product.stock>0?t(r)("In Stock"):t(r)("Out of Stock"))+" ",1),s.product.stock>0?(u(),h("span",Ie,"("+a(s.product.stock)+" "+a(t(r)("Available"))+")",1)):I("",!0)])])]),o(t(A),{gutter:[16,16],class:"mb-6"},{default:i(()=>[o(t(f),{xs:24,sm:8},{default:i(()=>[e("div",Me,[o(t(ae),{class:"text-primary text-xl mr-2"}),e("span",We,a(t(r)("Free Shipping")),1)])]),_:1}),o(t(f),{xs:24,sm:8},{default:i(()=>[e("div",Be,[o(t(le),{class:"text-primary text-xl mr-2"}),e("span",Te,a(t(r)("Secure Payment")),1)])]),_:1}),o(t(f),{xs:24,sm:8},{default:i(()=>[e("div",Ve,[o(t(W),{class:"text-primary text-xl mr-2"}),e("span",De,a(t(r)("Money Back")),1)])]),_:1})]),_:1}),e("div",He,[e("label",Ne,a(t(r)("Quantity")),1),e("div",qe,[e("button",{onClick:E,class:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-l-md hover:bg-gray-100"},[o(t(M))]),K(e("input",{type:"number","onUpdate:modelValue":n[0]||(n[0]=g=>p.value=g),min:"1",max:s.product.stock,class:"w-16 h-10 text-center border-t border-b border-gray-300 focus:outline-none"},null,8,Ee),[[ee,p.value]]),e("button",{onClick:q,class:"w-10 h-10 flex items-center justify-center border border-gray-300 rounded-r-md hover:bg-gray-100"},[o(t(te))])])]),o(t(A),{gutter:[16,16],class:"mb-6"},{default:i(()=>[o(t(f),{xs:24,sm:12},{default:i(()=>[e("button",{onClick:F,disabled:s.product.stock===0||x.value,class:"w-full bg-primary text-white py-3 px-6 rounded-md font-medium hover:bg-primary-dark transition-all duration-200 flex items-center justify-center transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100 disabled:hover:bg-primary"},[x.value?(u(),h("div",Re)):(u(),j(t(ne),{key:1,class:"mr-2"})),C(" "+a(s.product.stock===0?t(r)("Out of Stock"):t(r)("Add to Cart")),1)],8,Fe)]),_:1}),o(t(f),{xs:24,sm:12},{default:i(()=>[e("button",{onClick:n[1]||(n[1]=g=>D(s.product.id)),disabled:_.value,class:O(["w-full border py-3 px-6 rounded-md font-medium transition-all duration-200 flex items-center justify-center transform hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",P(s.product.id)?"border-red-500 bg-red-500 text-white hover:bg-red-600":"border-gray-300 hover:bg-gray-50"])},[_.value?(u(),h("div",Le)):(u(),j(t(se),{key:1,class:O([P(s.product.id)?"text-white":"text-gray-600","mr-2"])},null,8,["class"])),C(" "+a(P(s.product.id)?t(r)("Remove from Wishlist"):t(r)("Add to Wishlist")),1)],10,ze)]),_:1})]),_:1})])]),_:1})]),_:1}),e("div",Qe,[e("div",Ge,[e("nav",Ue,[e("button",Je,a(t(r)("Description")),1)])]),e("div",Xe,[e("p",null,a(t(r)(s.product.description)),1)])])])]),o(oe,{open:S.value,"onUpdate:open":n[2]||(n[2]=g=>S.value=g),canResetPassword:!1},null,8,["open"])]),_:1}))}});export{ut as default};
