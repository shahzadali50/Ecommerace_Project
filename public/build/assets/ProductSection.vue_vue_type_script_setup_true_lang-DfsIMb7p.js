import{e as s,I as Q,d as N,c as V,a as h,o as u,u as e,az as X,n as q,W as P,l as G,q as x,z as Y,ab as Z,r as H,b as o,w as n,g as w,t as m,av as k,P as E,aA as ee,aB as L,F as T,x as A,aC as M,f as z,s as F,ax as te,i as W,ay as ae,aD as se,v as I,aE as le}from"./app-CML5ZOdP.js";import{_ as re}from"./useFlashMessages-Ce7_M5A-.js";import{F as K}from"./FilterOutlined-BXaOC2Bx.js";import{_ as oe}from"./LoginModal.vue_vue_type_script_setup_true_lang-DoSyKB8l.js";import{S as ne}from"./ShoppingCartOutlined-CJ7yxwtS.js";import{H as ie}from"./UserLayout.vue_vue_type_script_setup_true_lang-C7-V1O4i.js";var ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"};function R(g){for(var l=1;l<arguments.length;l++){var t=arguments[l]!=null?Object(arguments[l]):{},d=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(d=d.concat(Object.getOwnPropertySymbols(t).filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),d.forEach(function(r){ue(g,r,t[r])})}return g}function ue(g,l,t){return l in g?Object.defineProperty(g,l,{value:t,enumerable:!0,configurable:!0,writable:!0}):g[l]=t,g}var U=function(l,t){var d=R({},l,t.attrs);return s(Q,R({},d,{icon:ce}),null)};U.displayName="ClearOutlined";U.inheritAttrs=!1;const de={class:"text-center mt-8 sm:mt-12"},pe=N({__name:"PaginationComponent",props:{paginationData:{}},setup(g){const l=g,t=V(()=>{var r,v,p,f,_,b;return{current_page:((r=l.paginationData)==null?void 0:r.current_page)||1,last_page:((v=l.paginationData)==null?void 0:v.last_page)||1,total:((p=l.paginationData)==null?void 0:p.total)||0,per_page:((f=l.paginationData)==null?void 0:f.per_page)||5,from:((_=l.paginationData)==null?void 0:_.from)||1,to:((b=l.paginationData)==null?void 0:b.to)||0}}),d=r=>{console.log("Navigating to page:",r);const v=q().url,p=new URL(v,window.location.origin);p.searchParams.set("page",r.toString()),P.visit(p.pathname+p.search,{preserveState:!1,preserveScroll:!0})};return(r,v)=>(u(),h("div",de,[s(e(X),{current:t.value.current_page,total:t.value.total,"page-size":t.value.per_page,"show-total":(p,f)=>`${f[0]}-${f[1]} of ${p} items`,onChange:d,class:"inline-block"},null,8,["current","total","page-size","show-total"])]))}}),me=re(pe,[["__scopeId","data-v-56e6d364"]]),ge={class:"flex item-center"},he={class:"flex items-end gap-2 my-4"},_e={class:""},ve={class:"block text-xs mb-1"},fe={class:""},be={class:"block text-xs mb-1"},ye={class:""},xe=["onClick"],we=["onClick"],Ce=N({__name:"FilterProduct",props:{categories:{},selectedCategory:{},brands:{},selectedBrand:{}},setup(g){const{appContext:l}=G(),t=l.config.globalProperties.$t,d=g,r=x(!1),v=()=>{r.value=!0},p=()=>{r.value=!1},f=x(["1","2"]),_=x(null),b=x(null),B=C=>{P.get(route("all.products"),{category:C,min_price:_.value,max_price:b.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{p()}})},j=C=>{P.get(route("all.products"),{category:d.selectedCategory,brand:C,min_price:_.value,max_price:b.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{p()}})},S=()=>{P.get(route("all.products"),{category:d.selectedCategory,min_price:_.value,max_price:b.value},{preserveState:!0,preserveScroll:!0,replace:!0,onSuccess:()=>{p()}})},O=x(500),$=()=>{O.value=window.innerWidth<=576?280:380};return Y(()=>{$(),window.addEventListener("resize",$)}),Z(()=>{window.removeEventListener("resize",$)}),(C,a)=>{const y=H("a-input"),D=H("a-badge"),i=H("a-drawer");return u(),h("div",null,[o("div",ge,[s(e(k),{type:"text",class:"flex items-center",size:"large",onClick:v},{default:n(()=>[s(e(K)),w(m(e(t)("Filter")),1)]),_:1}),s(e(k),{size:"large",type:"text"},{default:n(()=>[s(e(E),{href:C.route("all.products"),class:"flex items-center"},{default:n(()=>[s(e(U)),w(m(e(t)("Clear Filters")),1)]),_:1},8,["href"])]),_:1})]),s(i,{title:e(t)("Filter Products"),placement:"left",open:r.value,onClose:p,width:O.value},{default:n(()=>[o("div",null,[o("div",null,[o("div",he,[o("div",_e,[o("label",ve,m(e(t)("From")),1),s(y,{type:"number",placeholder:"00000",min:"0",value:_.value,"onUpdate:value":a[0]||(a[0]=c=>_.value=c)},null,8,["value"])]),o("div",fe,[o("label",be,m(e(t)("To")),1),s(y,{type:"number",placeholder:"2000",min:"0",value:b.value,"onUpdate:value":a[1]||(a[1]=c=>b.value=c)},null,8,["value"])]),o("div",ye,[s(e(k),{type:"dashed",onClick:S},{default:n(()=>[s(e(K)),w(" "+m(e(t)("Filter")),1)]),_:1})])])]),s(e(ee),{activeKey:f.value,"onUpdate:activeKey":a[2]||(a[2]=c=>f.value=c),bordered:!1},{default:n(()=>[s(e(L),{key:"1",header:e(t)("Filter by Category")},{default:n(()=>[(u(!0),h(T,null,A(d.categories,c=>(u(),h("div",{key:c.id,class:"flex justify-between items-center mb-2 cursor-pointer",onClick:J=>B(c.slug)},[s(e(M),{checked:d.selectedCategory===c.slug},{default:n(()=>[w(m(e(t)(c.name)),1)]),_:2},1032,["checked"]),s(D,{count:c.product_count,"number-style":{backgroundColor:"#757d87"}},null,8,["count"])],8,xe))),128))]),_:1},8,["header"]),s(e(L),{key:"2",header:e(t)("Filter by Brand")},{default:n(()=>[(u(!0),h(T,null,A(d.brands,c=>(u(),h("div",{key:c.id,class:"flex justify-between items-center mb-2 cursor-pointer",onClick:J=>j(c.slug===d.selectedBrand?null:c.slug)},[s(e(M),{checked:d.selectedBrand===c.slug},{default:n(()=>[w(m(e(t)(c.name)),1)]),_:2},1032,["checked"]),s(D,{count:c.product_count,"number-style":{backgroundColor:"#757d87"}},null,8,["count"])],8,we))),128))]),_:1},8,["header"])]),_:1},8,["activeKey"])])]),_:1},8,["title","open","width"])])}}}),ke={class:"container mx-auto"},Pe={class:"container mx-auto px-2 sm:px-4"},Se={class:"text-center mb-8 sm:mb-12"},Be={key:0,class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4"},$e={key:1,class:"text-base sm:text-lg text-gray-600 max-w-3xl mx-auto"},Fe={key:0},Oe={class:"relative h-28 sm:h-32 md:h-40 lg:h-48 overflow-hidden"},De=["src","alt"],ze={class:"absolute top-1 right-1 bg-white rounded-full px-1.5 py-0.5 text-[10px] sm:text-xs font-medium text-gray-800"},Ve={class:"text-[15px] sm:text-xl font-semibold text-gray-900 mb-1"},He={class:"flex justify-between items-center"},Te={class:"flex flex-wrap"},je={class:"text-xs sm:text-sm md:text-base font-bold text-primary pr-2"},We={class:"text-xs sm:text-sm md:text-base text-secondary line-through"},Ee={key:1,class:"text-center mt-8 sm:mt-12"},Ae={key:1},Re=N({__name:"ProductSection",props:{title:{},subtitle:{},showAllProductsButton:{type:Boolean},showFilter:{type:Boolean},showPagination:{type:Boolean},categories:{},selectedCategory:{},selectedBrand:{},showTitle:{type:Boolean},showSubTitle:{type:Boolean},sectionClass:{}},setup(g){const l=g,t=q(),{appContext:d}=G(),r=d.config.globalProperties.$t,v=V(()=>{var a;return((a=t.props.products)==null?void 0:a.data)||[]}),p=a=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(a),f=a=>{P.visit(route("product.detail",{slug:a}))},_=x(new Set),b=a=>{_.value.add(a.id),P.post(route("cart.add"),{id:a.id,qty:1},{preserveScroll:!0,onSuccess:()=>{_.value.delete(a.id)},onError:y=>{_.value.delete(a.id),console.error("Failed to add to cart",y)}})},B=x(!1),j=V(()=>{var a;return(a=t.props.auth)==null?void 0:a.user}),S=x(new Set),O=a=>{j.value?(S.value.add(a),P.post(route("wishlist.add"),{product_id:a},{preserveScroll:!0,onSuccess:()=>{S.value.delete(a)},onError:()=>{S.value.delete(a)}})):B.value=!0},$=V(()=>t.props.wishlist||[]),C=a=>$.value.includes(a);return(a,y)=>{const D=H("a-result");return u(),h(T,null,[o("section",null,[o("div",ke,[l.showFilter===!0?(u(),z(Ce,{key:0,categories:e(t).props.categories,selectedCategory:e(t).props.selectedCategory,brands:e(t).props.brands,selectedBrand:e(t).props.selectedBrand},null,8,["categories","selectedCategory","brands","selectedBrand"])):F("",!0)])]),o("section",{class:W(["",l.sectionClass])},[o("div",Pe,[o("div",Se,[l.showTitle!==!1?(u(),h("h2",Be,m(l.title||e(r)("Product List")),1)):F("",!0),l.showSubTitle!==!1?(u(),h("p",$e,m(l.subtitle||e(r)("Explore our wide range of high-quality products tailored to your needs.")),1)):F("",!0)]),v.value.length>0?(u(),h("div",Fe,[s(e(te),{gutter:[16,16]},{default:n(()=>[(u(!0),h(T,null,A(v.value,i=>(u(),z(e(ae),{xs:12,sm:12,md:8,lg:8,xl:6,key:i.id,class:"mb-6"},{default:n(()=>[s(e(se),{hoverable:"",class:"h-full product-card cursor-pointer",onClick:c=>f(i.slug)},{cover:n(()=>[o("div",Oe,[i.thumnail_img?(u(),h("img",{key:0,src:"/storage/"+i.thumnail_img,alt:i.name,class:"w-full h-full object-cover"},null,8,De)):(u(),z(e(le).Image,{key:1,class:"w-full h-full"})),o("div",ze,m(e(r)(i.category_name)),1),s(e(k),{onClick:I(c=>O(i.id),["stop"]),shape:"circle",size:"small",loading:S.value.has(i.id),class:W(["flex items-center justify-center !w-7 !h-7 absolute top-7 right-1",C(i.id)?"!bg-red-500 !text-white !border-red-500 hover:!bg-red-600":"!bg-white !text-black !border-gray-300 hover:!bg-red-500 hover:!text-white hover:!border-red-500"]),"aria-label":"Toggle favorite"},{icon:n(()=>[s(e(ie))]),_:2},1032,["onClick","loading","class"])])]),default:n(()=>[o("div",null,[o("h3",Ve,m(e(r)(i.name)),1),o("div",He,[o("div",Te,[o("span",je,m(p(i.final_price)),1),o("span",We,m(p(i.sale_price)),1)])]),s(e(k),{type:"primary",class:W(["flex items-center justify-center mt-2",i.stock===0?"!bg-gray-400 !text-white !border-gray-400 cursor-not-allowed hover:!bg-gray-400":"btn-primary"]),loading:_.value.has(i.id),disabled:i.stock===0,onClick:I(c=>b(i),["stop"]),"aria-label":"Add to cart"},{icon:n(()=>[s(e(ne))]),default:n(()=>[w(" "+m(i.stock===0?e(r)("Out of Stock"):e(r)("Add to Cart")),1)]),_:2},1032,["class","loading","disabled","onClick"])])]),_:2},1032,["onClick"])]),_:2},1024))),128))]),_:1}),l.showPagination!==!1?(u(),z(me,{key:0,"pagination-data":e(t).props.products,"route-name":"all.products"},null,8,["pagination-data"])):F("",!0),l.showAllProductsButton===!0?(u(),h("div",Ee,[s(e(k),{size:"large",class:"btn-primary","aria-label":"View all products"},{default:n(()=>[s(e(E),{href:a.route("all.products")},{default:n(()=>[w(m(e(r)("All Products")),1),y[1]||(y[1]=o("i",{class:"fa fa-long-arrow-right ml-2","aria-hidden":"true"},null,-1))]),_:1},8,["href"])]),_:1})])):F("",!0)])):(u(),h("div",Ae,[s(D,{status:"404",title:"404","sub-title":e(r)("We couldn't find any products matching your search.")},{extra:n(()=>[s(e(k),{class:"btn-primary",size:"large",type:"primary"},{default:n(()=>[s(e(E),{href:a.route("all.products")},{default:n(()=>[w(m(e(r)("Continue Shopping")),1)]),_:1},8,["href"])]),_:1})]),_:1},8,["sub-title"])]))])],2),s(oe,{open:B.value,"onUpdate:open":y[0]||(y[0]=i=>B.value=i),canResetPassword:!1},null,8,["open"])],64)}}});export{Re as _};
