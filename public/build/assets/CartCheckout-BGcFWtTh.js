import{d as D,n as S,l as O,c as v,C as $,q as B,r as h,f as g,o as d,w as u,e as n,b as t,u as e,m as V,a as i,aw as U,ax as f,t as o,P as L,g as m,v as R,s as c,F as A,x as G,aF as I,aG as K}from"./app-CdgPAu8Y.js";import{a as M,_ as T}from"./UserLayout.vue_vue_type_script_setup_true_lang-Dwjd008b.js";import{_ as Y}from"./Button.vue_vue_type_script_setup_true_lang-CCKSdXGT.js";import{_ as q}from"./LoginModal.vue_vue_type_script_setup_true_lang-BKj9ndt2.js";import{S as z}from"./ShoppingCartOutlined-OWqR1Y1q.js";import{L as H}from"./loader-circle-Dcgejsmq.js";import"./useFlashMessages-D767BWGM.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DJtKA5Sq.js";import"./Label.vue_vue_type_script_setup_true_lang-B-6RWkT2.js";import"./TextLink.vue_vue_type_script_setup_true_lang-DBDeWU_m.js";import"./Checkbox.vue_vue_type_script_setup_true_lang-BlMc6TLy.js";import"./createLucideIcon-fEDCnf8p.js";const J={class:"py-14"},Q={class:"container mx-auto px-2 sm:px-4"},W={class:"text-center"},X={class:"text-gray-500 text-2xl"},Z={key:0,class:"mb-4 p-4 bg-red-50 border border-red-200 rounded-lg"},ee={class:"list-disc list-inside text-red-600"},te={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6 flex items-center gap-2"},se={class:"mb-4"},le={class:"block"},oe={key:0,class:"text-red-500"},ae={class:"mb-4"},re={class:"block"},ne={key:0,class:"text-red-500"},de={class:"mb-4"},ie={class:"block"},ue={key:0,class:"text-red-500"},ce={class:"mb-4"},me={class:"block"},pe={key:0,class:"text-red-500"},_e={class:"mb-4"},be={class:"block"},ve={key:0,class:"text-red-500"},fe={class:"mb-4"},ye={class:"block"},xe={key:0,class:"text-red-500"},he={class:"mb-4"},ge={class:"block"},ke={key:0,class:"text-red-500"},we={class:"mb-4"},Ce={class:"block"},Ee={key:0,class:"text-red-500"},Se={class:"mb-4"},Ue={class:"block"},Pe={key:0,class:"text-red-500"},Ne={class:"text-2xl sm:text-3xl font-bold text-gray-900 mb-6"},je={class:"flex justify-between mb-4 border-b py-4"},Fe={class:"font-medium"},De={class:"font-bold text-primary"},Oe={class:"flex justify-between mb-4 border-b py-4"},$e={class:"font-medium"},Be={class:"font-bold text-primary"},Ve={class:"flex justify-between mb-4"},Le={class:"font-medium"},Re={class:"font-bold text-primary"},Xe=D({__name:"CartCheckout",setup(Ae){const k=S(),{appContext:P}=O(),a=P.config.globalProperties.$t,y=v(()=>S().props.cart||[]),w=v(()=>y.value.reduce((_,s)=>_+s.total_price,0)),C=_=>new Intl.NumberFormat("en-PK",{style:"currency",currency:"PKR",minimumFractionDigits:2}).format(_),p=v(()=>k.props.billingDetail||{}),l=$({name:p.value.name||"",email:p.value.email||"",phone_number:p.value.phone_number||"",address:p.value.address||"",country:p.value.country||"",state:p.value.state||"",city:p.value.city||"",postal_code:p.value.postal_code||"",order_notes:p.value.order_notes||""}),x=B(!1),N=v(()=>{var _;return(_=k.props.auth)==null?void 0:_.user}),j=()=>{N.value?l.post(route("billing.details"),{onSuccess:()=>{l.reset()}}):x.value=!0};return(_,s)=>{const b=h("a-input"),E=h("a-textarea"),F=h("a-button");return d(),g(T,null,{default:u(()=>[n(e(V),{title:e(a)("Checkout")},null,8,["title"]),t("section",J,[t("div",Q,[!y.value||y.value.length===0?(d(),g(e(U),{key:0,class:"py-10"},{default:u(()=>[n(e(f),{span:"24"},{default:u(()=>[t("div",W,[n(e(z),{class:"text-7xl text-gray-400 mb-4"}),t("h4",X,o(e(a)("Your cart is empty")),1),n(e(L),{href:_.route("home"),class:"inline-block mt-4"},{default:u(()=>[n(e(Y),null,{default:u(()=>[m(o(e(a)("Continue Shopping")),1)]),_:1})]),_:1},8,["href"])])]),_:1})]),_:1})):(d(),i("form",{key:1,class:"w-full",onSubmit:s[9]||(s[9]=R(r=>j(),["prevent"]))},[Object.keys(e(l).errors).length>0?(d(),i("div",Z,[t("ul",ee,[(d(!0),i(A,null,G(Object.values(e(l).errors),r=>(d(),i("li",{key:r,class:"mb-1"},o(r),1))),128))])])):c("",!0),n(e(U),{class:"justify-between px-6"},{default:u(()=>[n(e(f),{xs:24,md:10,class:"mb-5"},{default:u(()=>[t("div",null,[s[11]||(s[11]=t("h1",{class:"text-5xl font-bold text-green-800 mb-6 flex items-center gap-2"}," 1. ",-1)),t("h1",te,o(e(a)("Billing Details")),1)]),t("div",se,[t("label",le,[m(o(e(a)("Full Name"))+" ",1),s[12]||(s[12]=t("span",{class:"text-red-500"},"*",-1))]),n(b,{value:e(l).name,"onUpdate:value":s[0]||(s[0]=r=>e(l).name=r),class:"mt-2 w-full",placeholder:e(a)("Enter your full name")},null,8,["value","placeholder"]),e(l).errors.name?(d(),i("div",oe,o(e(l).errors.name),1)):c("",!0)]),t("div",ae,[t("label",re,[m(o(e(a)("Email"))+" ",1),s[13]||(s[13]=t("span",{class:"text-red-500"},"*",-1))]),n(b,{type:"email",value:e(l).email,"onUpdate:value":s[1]||(s[1]=r=>e(l).email=r),class:"mt-2 w-full",placeholder:e(a)("Enter your email address")},null,8,["value","placeholder"]),e(l).errors.email?(d(),i("div",ne,o(e(l).errors.email),1)):c("",!0)]),t("div",de,[t("label",ie,[m(o(e(a)("Phone Number"))+" ",1),s[14]||(s[14]=t("span",{class:"text-red-500"},"*",-1))]),n(b,{type:"number",value:e(l).phone_number,"onUpdate:value":s[2]||(s[2]=r=>e(l).phone_number=r),class:"mt-2 w-full",placeholder:e(a)("Enter your phone number")},null,8,["value","placeholder"]),e(l).errors.phone_number?(d(),i("div",ue,o(e(l).errors.phone_number),1)):c("",!0)]),t("div",ce,[t("label",me,[m(o(e(a)("Address"))+" ",1),s[15]||(s[15]=t("span",{class:"text-red-500"},"*",-1))]),n(E,{value:e(l).address,"onUpdate:value":s[3]||(s[3]=r=>e(l).address=r),class:"mt-2 w-full",placeholder:e(a)("Enter your address"),rows:4},null,8,["value","placeholder"]),e(l).errors.address?(d(),i("div",pe,o(e(l).errors.address),1)):c("",!0)]),t("div",_e,[t("label",be,[m(o(e(a)("Country"))+" ",1),s[16]||(s[16]=t("span",{class:"text-red-500"},"*",-1))]),n(b,{value:e(l).country,"onUpdate:value":s[4]||(s[4]=r=>e(l).country=r),class:"mt-2 w-full",placeholder:e(a)("Enter your country")},null,8,["value","placeholder"]),e(l).errors.country?(d(),i("div",ve,o(e(l).errors.country),1)):c("",!0)]),t("div",fe,[t("label",ye,[m(o(e(a)("State"))+" ",1),s[17]||(s[17]=t("span",{class:"text-red-500"},"*",-1))]),n(b,{value:e(l).state,"onUpdate:value":s[5]||(s[5]=r=>e(l).state=r),class:"mt-2 w-full",placeholder:e(a)("Enter your state")},null,8,["value","placeholder"]),e(l).errors.state?(d(),i("div",xe,o(e(l).errors.state),1)):c("",!0)]),t("div",he,[t("label",ge,[m(o(e(a)("City"))+" ",1),s[18]||(s[18]=t("span",{class:"text-red-500"},"*",-1))]),n(b,{value:e(l).city,"onUpdate:value":s[6]||(s[6]=r=>e(l).city=r),class:"mt-2 w-full",placeholder:e(a)("Enter your city")},null,8,["value","placeholder"]),e(l).errors.city?(d(),i("div",ke,o(e(l).errors.city),1)):c("",!0)]),t("div",we,[t("label",Ce,[m(o(e(a)("Postal Code"))+" ",1),s[19]||(s[19]=t("span",{class:"text-red-500"},"*",-1))]),n(b,{type:"number",value:e(l).postal_code,"onUpdate:value":s[7]||(s[7]=r=>e(l).postal_code=r),class:"mt-2 w-full",placeholder:e(a)("Enter your postal code")},null,8,["value","placeholder"]),e(l).errors.postal_code?(d(),i("div",Ee,o(e(l).errors.postal_code),1)):c("",!0)]),t("div",Se,[t("label",Ue,o(e(a)("Order notes (optional)")),1),n(E,{value:e(l).order_notes,"onUpdate:value":s[8]||(s[8]=r=>e(l).order_notes=r),class:"mt-2 w-full",placeholder:e(a)("Enter any special instructions"),rows:4},null,8,["value","placeholder"]),e(l).errors.order_notes?(d(),i("div",Pe,o(e(l).errors.order_notes),1)):c("",!0)])]),_:1}),n(e(f),{xs:24,md:10,class:"mb-5"},{default:u(()=>[t("div",null,[s[20]||(s[20]=t("h1",{class:"text-5xl font-bold text-transparent mb-6 flex items-center gap-2"}," 2. ",-1)),t("h1",Ne,o(e(a)("Check Your Order")),1)]),n(M),t("div",je,[t("span",Fe,o(e(a)("Subtotal")),1),t("span",De,o(C(w.value)),1)]),t("div",Oe,[t("span",$e,o(e(a)("Shipping")),1),t("span",Be,o(e(a)("Free Delivery")),1)]),t("div",Ve,[t("span",Le,o(e(a)("Total"))+":",1),t("span",Re,o(C(w.value)),1)])]),_:1}),n(e(f),{xs:24,md:10,class:"mb-5"},{default:u(()=>[t("div",null,[t("div",null,[n(F,{"html-type":"submit",class:"w-full btn-primary mt-5 flex items-center justify-center py-4",disabled:e(l).processing},I({default:u(()=>[e(l).processing?(d(),g(e(H),{key:0,class:"h-4 w-4 animate-spin mr-2"})):c("",!0),m(" "+o(e(a)("Next"))+" ",1)]),_:2},[e(l).processing?void 0:{name:"icon",fn:u(()=>[n(e(K))]),key:"0"}]),1032,["disabled"])])])]),_:1})]),_:1})],32)),n(q,{open:x.value,"onUpdate:open":s[10]||(s[10]=r=>x.value=r),canResetPassword:!1},null,8,["open"])])])]),_:1})}}});export{Xe as default};
