import{d as H,q as b,n as J,c as A,C as D,r as v,a as u,o as d,s as m,e as l,w as o,u as c,m as Q,b as n,f as W,t as a,P as C,g as p,F as f,v as X,p as Z,M as ee}from"./app-CML5ZOdP.js";import{A as te}from"./AdminLayout-CVEVAiSx.js";import"./ShoppingOutlined-C5fS7e5y.js";import"./useFlashMessages-Ce7_M5A-.js";import"./LanguageSwitcher.vue_vue_type_script_setup_true_lang-DueVX3Lt.js";import"./FilterOutlined-BXaOC2Bx.js";const ae={key:0,class:"loading-overlay"},ne={class:"bg-white rounded-lg p-4 shadow-md"},le={class:"mb-4 flex items-center justify-between"},se={class:"text-lg font-semibold"},oe={key:1},ie=["src","onClick"],re={key:1,class:"text-gray-400 mb-1"},de={class:"mb-4"},ue={class:"block"},ce={key:0,class:"text-red-500"},me={class:"mb-4"},pe={class:"block"},_e={key:0,class:"text-red-500"},ve={class:"mb-4"},ge={class:"block"},fe={key:0,class:"mb-2"},ye={class:"text-sm text-gray-500 mb-1"},be=["src"],he={key:1,class:"text-red-500"},ke={class:"mt-2 text-sm text-gray-500"},xe={key:2,class:"mt-2"},we={class:"text-sm text-gray-600 mb-1"},Ie=["src"],Ce={class:"text-right"},Be={class:"flex justify-center p-4"},Ne=["src"],Ee=H({__name:"CategoryBrandList",props:{brands:Object,category:Object},setup(w){const h=b(!1),P=s=>s?Z(s).format("DD-MM-YYYY hh:mm A"):"N/A",U=J(),e=A(()=>{var s;return((s=U.props.translations)==null?void 0:s.dashboard_all_pages)||{}}),k=b(!1),B=b(""),E=s=>{B.value="/storage/"+s,k.value=!0},M=A(()=>[{title:e.value.sr||"Sr.",dataIndex:"id",key:"id"},{title:e.value.image||"Image",dataIndex:"image",key:"image"},{title:e.value.name||"Name",dataIndex:"name",key:"name"},{title:e.value.description||"Description",dataIndex:"description",key:"description"},{title:e.value.category||"Category",dataIndex:"category",key:"category"},{title:e.value.created_at||"Created At",dataIndex:"created_at",key:"created_at"},{title:e.value.action||"Action",dataIndex:"action",key:"action"}]),$=D({}),F=s=>{ee.confirm({title:e.value.delete_brand_confirm||"Are you sure you want to delete this Brand?",content:e.value.delete_brand_warning||"This action cannot be undone.",okText:e.value.confirm_delete_ok||"Yes, Delete",okType:"danger",cancelText:e.value.confirm_delete_cancel||"Cancel",onOk(){h.value=!0,$.delete(route("admin.brand.delete",{id:s}),{onSuccess:()=>{},onFinish:()=>{h.value=!1}})}})},y=b(!1),r=D({id:null,name:"",description:"",image:null,_method:"PUT"}),x=b(""),I=b(""),S=s=>{const t=s.target;t.files&&t.files[0]&&(r.image=t.files[0],x.value=URL.createObjectURL(t.files[0]))},T=s=>{r.id=s.id,r.name=s.name,r.description=s.description,r.image=null,I.value=s.image,x.value="",y.value=!0},V=()=>{h.value=!0,r.post(route("admin.brand.update",{id:r.id}),{onSuccess:()=>{y.value=!1},onFinish:()=>{h.value=!1}})};return(s,t)=>{const Y=v("a-spin"),g=v("a-button"),N=v("a-tooltip"),O=v("a-table"),R=v("a-col"),z=v("a-row"),q=v("a-input"),K=v("a-textarea"),j=v("a-modal");return d(),u(f,null,[h.value?(d(),u("div",ae,[l(Y,{size:"large"})])):m("",!0),l(te,null,{default:o(()=>[l(c(Q),{title:e.value.brand_title||"Brand List"},null,8,["title"]),l(z,null,{default:o(()=>[l(R,{span:24},{default:o(()=>[n("div",ne,[n("div",le,[n("h2",se,a(e.value.brand_title||"Brand List")+" - "+a(w.category.name),1),n("div",null,[l(c(C),{href:s.route("admin.categories")},{default:o(()=>[l(g,{class:"mx-2",type:"default"},{default:o(()=>[p(a(e.value.back||"Back"),1)]),_:1})]),_:1},8,["href"]),l(c(C),{href:s.route("admin.brand-log")},{default:o(()=>[l(g,{class:"mx-2",type:"default"},{default:o(()=>[p(a(e.value.brand_logs||"Brand Logs"),1)]),_:1})]),_:1},8,["href"]),l(c(C),{href:s.route("admin.brands")},{default:o(()=>[l(g,{class:"mx-2",type:"default"},{default:o(()=>[p(a(e.value.all_brand_list||"All Brand List"),1)]),_:1})]),_:1},8,["href"])])]),w.brands?(d(),W(O,{key:0,columns:M.value,"data-source":w.brands.data,rowKey:"id",bordered:""},{bodyCell:o(({column:i,record:_,index:G})=>[i.dataIndex==="id"?(d(),u(f,{key:0},[p(a(G+1),1)],64)):m("",!0),i.dataIndex==="image"?(d(),u("div",oe,[_.image?(d(),u("img",{key:0,src:"/storage/"+_.image,alt:"Category Image",class:"w-12 h-12 object-cover rounded mb-1 cursor-pointer hover:opacity-80 transition-opacity",onClick:L=>E(_.image)},null,8,ie)):(d(),u("span",re,"No Image"))])):m("",!0),i.dataIndex==="name"?(d(),u(f,{key:2},[p(a(_.name),1)],64)):m("",!0),i.dataIndex==="description"?(d(),u(f,{key:3},[p(a(_.description?_.description:"N/A"),1)],64)):m("",!0),i.dataIndex==="category"?(d(),u(f,{key:4},[p(a(_.slug),1)],64)):i.dataIndex==="created_at"?(d(),u(f,{key:5},[p(a(P(_.created_at)),1)],64)):i.dataIndex==="action"?(d(),u(f,{key:6},[l(N,{placement:"top"},{title:o(()=>[p(a(e.value.delete||"Delete"),1)]),default:o(()=>[l(g,{type:"link",onClick:L=>F(_.id)},{default:o(()=>t[8]||(t[8]=[n("i",{class:"fa fa-trash text-red-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024),l(N,{placement:"top"},{title:o(()=>[p(a(e.value.edit||"Edit"),1)]),default:o(()=>[l(g,{type:"link",onClick:L=>T(_)},{default:o(()=>t[9]||(t[9]=[n("i",{class:"fa fa-pencil-square-o text-s text-green-500","aria-hidden":"true"},null,-1)])),_:2},1032,["onClick"])]),_:2},1024)],64)):m("",!0)]),_:1},8,["columns","data-source"])):m("",!0)])]),_:1})]),_:1}),l(j,{open:y.value,"onUpdate:open":t[4]||(t[4]=i=>y.value=i),title:e.value.update||"Edit Brand",onCancel:t[5]||(t[5]=i=>y.value=!1),footer:null},{default:o(()=>[n("form",{onSubmit:t[3]||(t[3]=X(i=>V(),["prevent"])),enctype:"multipart/form-data"},[n("div",de,[n("label",ue,a(e.value.name||"Name"),1),l(q,{value:c(r).name,"onUpdate:value":t[0]||(t[0]=i=>c(r).name=i),class:"mt-2 w-full",placeholder:e.value.name_placeholder||"Enter Name"},null,8,["value","placeholder"]),c(r).errors.name?(d(),u("div",ce,a(c(r).errors.name),1)):m("",!0)]),n("div",me,[n("label",pe,a(e.value.description||"Description"),1),l(K,{value:c(r).description,"onUpdate:value":t[1]||(t[1]=i=>c(r).description=i),class:"mt-2 w-full",placeholder:e.value.eneter_description||"Enter Description","auto-size":{minRows:2,maxRows:5}},null,8,["value","placeholder"]),c(r).errors.description?(d(),u("div",_e,a(c(r).errors.description),1)):m("",!0)]),n("div",ve,[n("label",ge,a(e.value.image||"Image"),1),I.value?(d(),u("div",fe,[n("p",ye,a(e.value.current_image||"Current Image"),1),n("img",{src:"/storage/"+I.value,alt:"Current Brand Image",class:"w-24 h-24 object-cover rounded border"},null,8,be)])):m("",!0),n("input",{type:"file",onChange:S,accept:"image/*",class:"mt-2 w-full p-2 border rounded"},null,32),c(r).errors.image?(d(),u("div",he,a(c(r).errors.image),1)):m("",!0),n("div",ke,a(e.value.keep_current_image||"Leave empty to keep the current image"),1),x.value?(d(),u("div",xe,[n("p",we,a(e.value.new_image_preview||"New Image Preview")+":",1),n("img",{src:x.value,alt:"New Image Preview",class:"w-24 h-24 object-cover rounded border"},null,8,Ie)])):m("",!0)]),n("div",Ce,[l(g,{type:"default",onClick:t[2]||(t[2]=i=>y.value=!1)},{default:o(()=>[p(a(e.value.cancel||"Cancel"),1)]),_:1}),l(g,{type:"primary","html-type":"submit",class:"ml-2"},{default:o(()=>[p(a(e.value.update||"Update"),1)]),_:1})])],32)]),_:1},8,["open","title"]),l(j,{open:k.value,"onUpdate:open":t[6]||(t[6]=i=>k.value=i),title:e.value.preview||"Image Preview",onCancel:t[7]||(t[7]=i=>k.value=!1),footer:null,width:"600px"},{default:o(()=>[n("div",Be,[n("img",{src:B.value,alt:"Full Size Image",class:"max-w-full max-h-[500px] object-cover"},null,8,Ne)])]),_:1},8,["open","title"])]),_:1})],64)}}});export{Ee as default};
