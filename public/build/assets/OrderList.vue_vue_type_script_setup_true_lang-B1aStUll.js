import{d as q,n as x,c as R,a as g,o as h,F as N,b as e,e as l,u as f,P as v,i as _,w as r,g as o,q as P,C as H,r as w,f as J,s as M,t as s,x as V,v as K,p as X}from"./app-Ma9SSVpW.js";import{V as B,D as Z}from"./dataTables.dataTables-CeV-hoiA.js";import{_ as ee}from"./useFlashMessages-BJftgPRo.js";const te=q({__name:"OrderStatusBtn",setup(L){const O=x(),b=R(()=>O.url);return(t,n)=>(h(),g(N,null,[e("div",null,[l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.order.list",{},!1))?"btn-primary":" btn-outline-dark"]),href:t.route("admin.order.list")},{default:r(()=>n[0]||(n[0]=[e("i",{class:"fa fa-cart-plus","aria-hidden":"true"},null,-1),o(" All Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.today.order.list",{},!1))?"btn-primary":"btn-outline-dark"]),href:t.route("admin.today.order.list")},{default:r(()=>n[1]||(n[1]=[e("i",{class:"fa fa-cart-plus","aria-hidden":"true"},null,-1),o(" Today Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.orders.last3days",{},!1))?"btn-primary":"btn-outline-dark"]),href:t.route("admin.orders.last3days")},{default:r(()=>n[2]||(n[2]=[e("i",{class:"fa fa-cart-plus","aria-hidden":"true"},null,-1),o(" Last 3 Days Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.orders.last7days",{},!1))?"btn-primary":"btn-outline-dark"]),href:t.route("admin.orders.last7days")},{default:r(()=>n[3]||(n[3]=[e("i",{class:"fa fa-cart-plus","aria-hidden":"true"},null,-1),o(" Last 7 Days Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.orders.last30days",{},!1))?"btn-primary":"btn-outline-dark"]),href:t.route("admin.orders.last30days")},{default:r(()=>n[4]||(n[4]=[e("i",{class:"fa fa-cart-plus","aria-hidden":"true"},null,-1),o(" Last 30 Days Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.orders.thisMonth",{},!1))?"btn-primary":"btn-outline-dark"]),href:t.route("admin.orders.thisMonth")},{default:r(()=>n[5]||(n[5]=[e("i",{class:"fa fa-cart-plus","aria-hidden":"true"},null,-1),o(" Current Month Orders ")])),_:1},8,["class","href"])]),e("div",null,[l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.pending.orders",{},!1))?"btn-warning":"btn-outline-dark"]),href:t.route("admin.pending.orders")},{default:r(()=>n[6]||(n[6]=[e("i",{class:"fa fa-clock-o"},null,-1),o(" Pending Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.processing.orders",{},!1))?"btn-primary":"btn-outline-dark"]),href:t.route("admin.processing.orders")},{default:r(()=>n[7]||(n[7]=[e("i",{class:"fa fa-cogs"},null,-1),o(" Processing Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.dispatched.orders",{},!1))?"btn-primary":"btn-outline-dark"]),href:t.route("admin.dispatched.orders")},{default:r(()=>n[8]||(n[8]=[e("i",{class:"fa fa-truck"},null,-1),o(" Dispatched Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.delivered.orders",{},!1))?"btn-success":"btn-outline-dark"]),href:t.route("admin.delivered.orders")},{default:r(()=>n[9]||(n[9]=[e("i",{class:"fa fa-check-circle"},null,-1),o(" Delivered Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.cancelled.orders",{},!1))?"btn-danger":"btn-outline-dark"]),href:t.route("admin.cancelled.orders")},{default:r(()=>n[10]||(n[10]=[e("i",{class:"fa fa-times-circle"},null,-1),o(" Cancelled Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.returned.orders",{},!1))?"btn-secondary":"btn-outline-dark"]),href:t.route("admin.returned.orders")},{default:r(()=>n[11]||(n[11]=[e("i",{class:"fa fa-undo"},null,-1),o(" Returned Orders ")])),_:1},8,["class","href"]),l(f(v),{class:_(["btn m-1",b.value.startsWith(t.route("admin.refunded.orders",{},!1))?"btn-dark":"btn-outline-dark"]),href:t.route("admin.refunded.orders")},{default:r(()=>n[12]||(n[12]=[e("i",{class:"fa fa-money"},null,-1),o(" Refunded Orders ")])),_:1},8,["class","href"])])],64))}}),se=ee(te,[["__scopeId","data-v-c33e9e04"]]),ae={class:"bg-white rounded-lg responsive-table p-4 shadow-md"},le={class:"mb-4 flex items-center justify-between"},re={class:"text-lg font-semibold mb-4"},ne={class:"mb-4"},oe={class:"text-lg font-semibold mb-3"},de={class:"mb-4"},ie={class:"block"},ue={key:0,class:"text-red-500"},ce={class:"text-right"},me={class:"mb-4"},pe={class:"text-lg font-semibold mb-3"},fe={class:"mb-2"},be={class:"font-semibold"},_e={class:"mb-2"},ve={class:"font-semibold"},he={class:"mb-2"},ye={class:"font-semibold"},ge={class:"mb-2"},ke={class:"font-semibold"},we={class:"mb-2"},Oe={class:"font-semibold"},Se={class:"mb-2"},Ce={class:"font-semibold"},Pe={class:"mb-2"},De={class:"font-semibold"},We={class:"mb-2"},Ne={class:"font-semibold"},Le={key:0,class:"mt-2"},Me={class:"mb-2"},Te={class:"font-semibold"},$e={class:"mb-2 overflow-x-auto"},Ae={class:"table-auto w-full min-w-[600px]"},Ve={class:"text-left"},Be={class:"py-2"},qe={class:"py-2"},xe=["src","alt"],Re={class:"py-2"},Ue={class:"py-2"},Ye={class:"py-2"},je={class:"py-2"},Ee={class:"my-3"},Fe={class:"mb-2"},Ie={class:"font-bold text-primary"},ze={class:"mb-2"},Qe={class:"font-bold text-primary"},Ge={class:"mb-2"},He={class:"font-bold text-primary"},Ze=q({__name:"OrderList",props:{orders:Object},setup(L){B.use(Z);const O=P(!1),b=x(),t=R(()=>{var a;return((a=b.props.translations)==null?void 0:a.dashboard_all_pages)||{}}),n=a=>a?X(a).format("DD-MM-YYYY hh:mm A"):"N/A",D=P(!1),S=P(!1),m=P(null),W=P(""),U=[{value:"pending",label:"Pending",icon:"fa fa-clock-o"},{value:"processing",label:"Processing",icon:"fa-cog"},{value:"dispatched",label:"Dispatched",icon:"fa-truck"},{value:"delivered",label:"Delivered",icon:"fa-check-circle"},{value:"cancelled",label:"Cancelled",icon:"fa-times-circle"},{value:"returned",label:"Returned",icon:"fa-undo"},{value:"refunded",label:"Refunded",icon:"fa fa-retweet"}],Y=a=>{m.value=a,D.value=!0},j=[{title:t.value.sr||"Sr.",data:null,render:(a,i,p,c)=>c.row+1},{title:t.value.order_id||"Order ID",data:"order_id",render:a=>`<span class="badge bg-secondary">${a}</span>`},{title:t.value.status||"Status",data:"status",render:(a,i,p)=>{let c="btn-secondary";switch(a.toLowerCase()){case"pending":c="btn-warning";break;case"processing":c="btn-info";break;case"dispatched":c="btn-primary";break;case"delivered":c="btn-success";break;case"cancelled":c="btn-danger";break;case"returned":c="btn-secondary";break;case"refunded":c="btn-dark";break}return`
                <button class="btn-order-status ${c} p-2" data-id="${p.id}">
                    ${a}
                </button>
            `}},{title:t.value.payment_status||"Payment Status",data:"payment_status",render:a=>`<span class="badge bg-success">${a||"N/A"}</span>`},{title:t.value.payment_method||"Payment Method",data:"payment_method",render:a=>a||"N/A"},{title:t.value.payment_intent_id||"payment_intent_id",data:"payment_intent_id",render:a=>a||"N/A"},{title:t.value.customer_name||"Customer Name",data:"name"},{title:t.value.phone_number||"Phone No",data:"phone_number"},{title:t.value.subtotal||"SubTotal",data:"subtotal_price",render:a=>Math.floor(a)},{title:t.value.total||"Total",data:"total_price",render:a=>Math.floor(a)},{title:t.value.created_at||"Created At",data:"created_at",render:a=>n(a)},{title:t.value.action||"Action",data:null,orderable:!1,render:(a,i,p)=>`
            <button class="view-btn p-2" data-id="${p.id}" title="${t.value.view||"View"}">
                 <i class="fa fa-cart-plus text-2xl" aria-hidden="true"></i>
            </button>
        `}],E={paging:!0,searching:!0,ordering:!0,responsive:!0,pageLength:10,createdRow:(a,i)=>{setTimeout(()=>{var p,c;(p=a.querySelector(".view-btn"))==null||p.addEventListener("click",()=>Y(i)),(c=a.querySelector(".btn-order-status"))==null||c.addEventListener("click",()=>F(i))},0)}},k=H({id:null,status:"",_method:"PUT"}),F=a=>{k.id=a.id,m.value=a,W.value=a.status,S.value=!0},I=()=>{O.value=!0,k.status=W.value,k.post(route("admin.order.status.update",{id:k.id}),{preserveScroll:!0,onSuccess:()=>{S.value=!1},onFinish:()=>{O.value=!1}})};return(a,i)=>{const p=w("a-col"),c=w("a-row"),z=w("a-select-option"),Q=w("a-select"),G=w("a-button"),T=w("a-modal");return h(),g(N,null,[l(c,null,{default:r(()=>[l(p,{span:24,class:"mb-2"},{default:r(()=>[l(se)]),_:1})]),_:1}),l(c,null,{default:r(()=>[l(p,{xs:24},{default:r(()=>{var u;return[e("div",ae,[e("div",le,[e("h2",re,s(t.value.order_list||"Order List"),1)]),(u=L.orders)!=null&&u.data?(h(),J(f(B),{key:0,data:L.orders.data,columns:j,options:E,class:"display"},{default:r(()=>i[5]||(i[5]=[e("thead",null,null,-1),e("tbody",null,null,-1)])),_:1},8,["data"])):M("",!0)])]}),_:1})]),_:1}),l(T,{width:"700px",open:S.value,"onUpdate:open":i[1]||(i[1]=u=>S.value=u),title:"Change Order Status",onCancel:i[2]||(i[2]=u=>S.value=!1),footer:null},{default:r(()=>[e("form",{onSubmit:K(I,["prevent"])},[l(c,null,{default:r(()=>[l(p,{xs:24},{default:r(()=>{var u;return[e("div",ne,[e("h3",oe,"Order #"+s((u=m.value)==null?void 0:u.order_id),1),e("div",de,[e("label",ie,s(t.value.status||"Status"),1),l(Q,{value:W.value,"onUpdate:value":i[0]||(i[0]=d=>W.value=d),style:{width:"200px"}},{default:r(()=>[(h(),g(N,null,V(U,d=>l(z,{key:d.value,value:d.value},{default:r(()=>[e("i",{class:_(["fa",d.icon,"mr-2"])},null,2),o(" "+s(d.label),1)]),_:2},1032,["value"])),64))]),_:1},8,["value"]),f(k).errors.status?(h(),g("div",ue,s(f(k).errors.status),1)):M("",!0)]),e("div",ce,[l(G,{type:"primary","html-type":"submit",loading:O.value,class:"ml-2"},{default:r(()=>[o(s(t.value.update_status||"Update Status"),1)]),_:1},8,["loading"])])])]}),_:1})]),_:1})],32)]),_:1},8,["open"]),l(T,{width:"700px",open:D.value,"onUpdate:open":i[3]||(i[3]=u=>D.value=u),title:t.value.order_preview||"Order Preview",onCancel:i[4]||(i[4]=u=>D.value=!1),footer:null},{default:r(()=>[l(c,null,{default:r(()=>[l(p,{xs:24},{default:r(()=>{var u;return[e("div",me,[e("h3",pe,s(t.value.shiping_details||"Shipping Details"),1),l(c,{gutter:16},{default:r(()=>[l(p,{xs:24,sm:12},{default:r(()=>{var d,y,C;return[e("p",fe,[e("span",be,s(t.value.name||"Name")+":",1),o(" "+s((d=m.value)==null?void 0:d.name),1)]),e("p",_e,[e("span",ve,s(t.value.phone_number||"Phone")+":",1),o(" "+s((y=m.value)==null?void 0:y.phone_number),1)]),e("p",he,[e("span",ye,s(t.value.email||"Email")+":",1),o(" "+s((C=m.value)==null?void 0:C.email),1)])]}),_:1}),l(p,{xs:24,sm:12},{default:r(()=>{var d,y,C,$,A;return[e("p",ge,[e("span",ke,s(t.value.address||"Address")+":",1),o(" "+s((d=m.value)==null?void 0:d.address),1)]),e("p",we,[e("span",Oe,s(t.value.city||"City")+":",1),o(" "+s((y=m.value)==null?void 0:y.city),1)]),e("p",Se,[e("span",Ce,s(t.value.state||"State")+":",1),o(" "+s((C=m.value)==null?void 0:C.state),1)]),e("p",Pe,[e("span",De,s(t.value.postal_code||"Postal Code")+":",1),o(" "+s(($=m.value)==null?void 0:$.postal_code),1)]),e("p",We,[e("span",Ne,s(t.value.country||"Country")+":",1),o(" "+s((A=m.value)==null?void 0:A.country),1)])]}),_:1})]),_:1}),(u=m.value)!=null&&u.order_notes?(h(),g("div",Le,[e("p",Me,[e("span",Te,s(t.value.order_notes||"Order Notes")+":",1),o(" "+s(m.value.order_notes),1)])])):M("",!0)])]}),_:1}),l(p,{xs:24},{default:r(()=>{var u;return[e("div",$e,[i[6]||(i[6]=e("div",{class:"border-gray-500 border my-4"},null,-1)),e("table",Ae,[e("thead",null,[e("tr",Ve,[e("th",null,s(t.value.sr||"Sr"),1),e("th",null,s(t.value.image||"Image"),1),e("th",null,s(t.value.product||"Product"),1),e("th",null,s(t.value.price||"Price"),1),e("th",null,s(t.value.quantity||"QTY"),1),e("th",null,s(t.value.total||"Total"),1)])]),e("tbody",null,[(h(!0),g(N,null,V((u=m.value)==null?void 0:u.sale_products,(d,y)=>(h(),g("tr",{key:d.id,class:"border-b py-3"},[e("td",Be,s(y+1),1),e("td",qe,[e("img",{src:"/storage/"+d.product.thumnail_img,alt:d.product.name,class:"w-16 h-16 object-cover rounded"},null,8,xe)]),e("td",Re,s(d.product.name),1),e("td",Ue,s(d.sale_price),1),e("td",Ye,s(d.qty),1),e("td",je,s(d.total_price),1)]))),128))])])])]}),_:1}),l(p,{xs:24},{default:r(()=>{var u,d;return[i[7]||(i[7]=e("div",{class:"border-gray-500 border my-4"},null,-1)),e("div",Ee,[e("h4",Fe,[o(s(t.value.subtotal||"Subtotal")+": ",1),e("span",Ie,s((u=m.value)==null?void 0:u.subtotal_price),1)]),e("h4",ze,[o(s(t.value.shipping_charge||"Shipping Charges")+": ",1),e("span",Qe,s(t.value.free_delivery||"Free Delivery"),1)]),e("h4",Ge,[o(s(t.value.total_price||"Total Price")+": ",1),e("span",He,s((d=m.value)==null?void 0:d.total_price),1)])])]}),_:1})]),_:1})]),_:1},8,["open","title"])],64)}}});export{Ze as _};
